(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7df2106c"],{1276:function(t,e,n){"use strict";var i=n("d784"),a=n("44e7"),s=n("825a"),r=n("1d80"),o=n("4840"),c=n("8aa5"),l=n("50c4"),u=n("14c3"),d=n("9263"),f=n("d039"),h=[].push,g=Math.min,p=4294967295,v=!f((function(){return!RegExp(p,"y")}));i("split",2,(function(t,e,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var i=String(r(this)),s=void 0===n?p:n>>>0;if(0===s)return[];if(void 0===t)return[i];if(!a(t))return e.call(i,t,s);var o,c,l,u=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),g=0,v=new RegExp(t.source,f+"g");while(o=d.call(v,i)){if(c=v.lastIndex,c>g&&(u.push(i.slice(g,o.index)),o.length>1&&o.index<i.length&&h.apply(u,o.slice(1)),l=o[0].length,g=c,u.length>=s))break;v.lastIndex===o.index&&v.lastIndex++}return g===i.length?!l&&v.test("")||u.push(""):u.push(i.slice(g)),u.length>s?u.slice(0,s):u}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var a=r(this),s=void 0==e?void 0:e[t];return void 0!==s?s.call(e,a,n):i.call(String(a),e,n)},function(t,a){var r=n(i,t,this,a,i!==e);if(r.done)return r.value;var d=s(t),f=String(this),h=o(d,RegExp),m=d.unicode,b=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(v?"y":"g"),y=new h(v?d:"^(?:"+d.source+")",b),x=void 0===a?p:a>>>0;if(0===x)return[];if(0===f.length)return null===u(y,f)?[f]:[];var k=0,w=0,C=[];while(w<f.length){y.lastIndex=v?w:0;var S,$=u(y,v?f:f.slice(w));if(null===$||(S=g(l(y.lastIndex+(v?0:w)),f.length))===k)w=c(f,w,m);else{if(C.push(f.slice(k,w)),C.length===x)return C;for(var O=1;O<=$.length-1;O++)if(C.push($[O]),C.length===x)return C;w=k=S}}return C.push(f.slice(k)),C}]}),!v)},"2f14":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("99af"),n("fb6a");var i=n("d4ec"),a=n("bee2"),s=function(){function t(){Object(i["a"])(this,t)}return Object(a["a"])(t,[{key:"queryString",value:function(t){var e="";for(var n in t)e+="".concat(n,"=").concat(t[n],"&");return e.slice(0,-1)}}]),t}(),r=new s},3837:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"my"},[n("div",{staticClass:"bg",style:{backgroundImage:"url('"+t.userData.userBg+"')"},on:{click:t.showPopup}}),n("div",{staticClass:"content"},[t.isLogin?n("div",{staticClass:"content-top clearfix"},[n("div",{staticClass:"img-box fl"},[n("img",{staticClass:"auto-img",attrs:{src:t.userData.userImg,alt:""}})]),n("div",{staticClass:"info-box fl"},[n("div",{staticClass:"name "},[t._v(" "+t._s(t.userData.nickName)+" ")]),n("div",{staticClass:"desc"},[t._v(" "+t._s(t.userData.desc)+" ")])])]):n("div",{staticClass:"unlogin"},[n("router-link",{attrs:{to:"{name: 'Login'}"}},[t._v("去注册 / 登录")])],1),n("div",{staticClass:"content-middle"},t._l(t.list,(function(e,i){return n("van-cell",{key:i,attrs:{title:e.title,"is-link":""},on:{click:function(n){return t.toline(e.name)}}})})),1),t.isLogin?n("div",{staticClass:"content-bottom"},[n("van-cell",{on:{click:t.showDeletePopup}},[t._v("退出登录")])],1):t._e()]),n("van-popup",{style:{height:"60px"},attrs:{round:"",position:"bottom"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("div",{staticClass:"popup-box"},[n("div",{staticClass:"title"},[t._v("修改背景")]),n("van-uploader",{attrs:{"after-read":t.updateUserBg}})],1)])],1)},a=[],s=(n("c975"),n("a15b"),n("ac1f"),n("5319"),n("1276"),n("619a"),n("2f14")),r={name:"My",data:function(){return{list:[{title:"我的订单",name:"Order"},{title:"我的收藏",name:"Favor"},{title:"个人中心",name:"Account"},{title:"地址管理",name:"Address"},{title:"安全中心",name:"Secure"}],userData:{},isLogin:!1,show:!1,maxSize:1048576}},created:function(){this.getuserData()},methods:{getuserData:function(){var t=this,e=localStorage.getItem("CSTK");e&&(this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"GET",url:"/findMy",params:{appkey:this.appkey,tokenString:e}}).then((function(e){t.$toast.clear(),"A001"==e.data.code?(t.isLogin=!0,t.userData=e.data.result[0]):(t.isLogin=!1,t.userData=[])})).catch((function(e){t.$toast.clear()})))},showPopup:function(){this.show=!0},updateUserBg:function(t){var e=this,n=localStorage.getItem("CSTK");if(n){var i=["png","jpg","jpeg","gif"],a=t.file.type.split("/")[1];if(-1!==i.indexOf(a))if(t.file.size>this.maxSize)this.$toast("上传图片大小要小于".concat(this.maxSize/1024,"kb"));else{var r=t.content.replace(/data:image\/[A-Za-z]+;base64,/,"");this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"});var o=s["a"].queryString({appkey:this.appkey,tokenString:n,imgType:a,serverBase64Img:r});this.axios({method:"POST",url:"/updateUserBg",data:o}).then((function(t){e.$toast.clear(),e.$toast(t.data.msg),"I001"==t.data.code&&(e.userData.userBg=t.data.userBg,e.show=!1)})).catch((function(t){e.$toast.clear()}))}else this.$toast("图片格式只支持".concat(i.join(",")))}},logout:function(){var t=this,e=localStorage.getItem("CSTK");if(e){this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"});var n=s["a"].queryString({appkey:this.appkey,tokenString:e});this.axios({method:"POST",url:"/logout",data:n}).then((function(e){t.$toast.clear(),t.$toast(e.data.msg),"F001"==e.data.code&&(localStorage.removeItem("CSTK"),t.userData=[],t.isLogin=!1)})).catch((function(e){t.$toast.clear()}))}},showDeletePopup:function(){var t=this;this.showDelete=!0,this.$dialog.confirm({message:"确认退出登录？"}).then((function(){t.logout()})).catch((function(){}))},toline:function(t){this.isLogin?this.$router.push({name:t}):this.$router.push({name:"Login"})}}},o=r,c=n("2877"),l=Object(c["a"])(o,i,a,!1,null,null,null);e["default"]=l.exports},"619a":function(t,e,n){},"99af":function(t,e,n){"use strict";var i=n("23e7"),a=n("d039"),s=n("e8b5"),r=n("861d"),o=n("7b0b"),c=n("50c4"),l=n("8418"),u=n("65f0"),d=n("1dde"),f=n("b622"),h=n("2d00"),g=f("isConcatSpreadable"),p=9007199254740991,v="Maximum allowed index exceeded",m=h>=51||!a((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),b=d("concat"),y=function(t){if(!r(t))return!1;var e=t[g];return void 0!==e?!!e:s(t)},x=!m||!b;i({target:"Array",proto:!0,forced:x},{concat:function(t){var e,n,i,a,s,r=o(this),d=u(r,0),f=0;for(e=-1,i=arguments.length;e<i;e++)if(s=-1===e?r:arguments[e],y(s)){if(a=c(s.length),f+a>p)throw TypeError(v);for(n=0;n<a;n++,f++)n in s&&l(d,f,s[n])}else{if(f>=p)throw TypeError(v);l(d,f++,s)}return d.length=f,d}})},a15b:function(t,e,n){"use strict";var i=n("23e7"),a=n("44ad"),s=n("fc6a"),r=n("a640"),o=[].join,c=a!=Object,l=r("join",",");i({target:"Array",proto:!0,forced:c||!l},{join:function(t){return o.call(s(this),void 0===t?",":t)}})},a640:function(t,e,n){"use strict";var i=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&i((function(){n.call(null,e||function(){throw 1},1)}))}},bee2:function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}n.d(e,"a",(function(){return a}))},c975:function(t,e,n){"use strict";var i=n("23e7"),a=n("4d64").indexOf,s=n("a640"),r=n("ae40"),o=[].indexOf,c=!!o&&1/[1].indexOf(1,-0)<0,l=s("indexOf"),u=r("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:c||!l||!u},{indexOf:function(t){return c?o.apply(this,arguments)||0:a(this,t,arguments.length>1?arguments[1]:void 0)}})},d4ec:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return i}))}}]);
//# sourceMappingURL=chunk-7df2106c.c28b5845.js.map