(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-93ef3a94"],{"0fdf":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"forgot"},[a("van-nav-bar",{attrs:{"left-text":"返回",title:"找回密码","left-arrow":""},on:{"click-left":e.back}}),a("div",{staticClass:"content"},[a("div",{staticClass:"form-box"},[a("van-form",[a("div",{staticClass:"title"},[e._v("通过邮箱找回")]),a("van-field",{attrs:{label:"手机号",placeholder:"手机号"},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),a("van-field",{attrs:{label:"邮箱",placeholder:"邮箱"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("van-field",{attrs:{center:"",clearable:"",label:"验证码",placeholder:"请输入验证码"},scopedSlots:e._u([{key:"button",fn:function(){return[a("van-button",{attrs:{size:"small",color:"#4a6fe7",disabled:e.isSend},on:{click:e.getEmailValidCode}},[e._v(e._s(e.text))])]},proxy:!0}]),model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),a("van-field",{attrs:{label:"新密码",placeholder:"6-12位由数字和字母组成的字符",type:e.isPassword?"password":"text","right-icon":e.isPassword?"closed-eye":"eye-o"},on:{"click-right-icon":e.viewPassword},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}}),a("div",{staticClass:"btns-box"},[a("van-button",{staticClass:"btn",attrs:{block:"","native-type":"submit"},on:{click:e.checkValidCode}},[e._v(" 确 认 ")])],1)],1)],1)])],1)},r=[],i=a("e3a8"),o=a("2f14"),s=(a("8f46"),{data:function(){return{phone:"",email:"",code:"",isSend:!1,text:"发送验证码",newPassword:"",isPassword:!0}},created:function(){},methods:{back:function(){this.$router.go(-1)},viewPassword:function(){this.isPassword=!this.isPassword},getEmailValidCode:function(){var e=this,t={email:{value:this.email,reg:/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,errorMsg:"邮箱格式不正确"}};if(i["a"].valid(t)){var a=60;this.isSend=!0;var n=setInterval((function(){if(a<=0)return clearInterval(n),e.isSend=!1,void(e.text="重新发送");a--,e.text=a+"秒后重新发送"}),1e3);this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"});var r=o["a"].queryString({appkey:this.appkey,email:this.email});this.axios({method:"POST",url:"/emailValidCode",data:r}).then((function(t){e.$toast.clear(),e.$toast(t.data.msg)})).catch((function(t){e.$toast.clear()}))}},checkValidCode:function(){var e=this,t={phone:{value:this.phone,reg:/^1[3-9]\d{9}$/,errorMsg:"手机格式不正确"},email:{value:this.email,reg:/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,errorMsg:"邮箱格式不正确"},code:{value:this.code,reg:/^\d{6}$/,errorMsg:"验证码为6位数字"}};if(i["a"].valid(t)){this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"});var a=o["a"].queryString({appkey:this.appkey,validCode:this.code});this.axios({method:"POST",url:"/checkValidCode",data:a}).then((function(t){e.$toast.clear(),e.$toast(t.data.msg),"K001"==t.data.code&&e.retrievePassword()})).catch((function(t){e.$toast.clear()}))}},retrievePassword:function(){var e=this,t={phone:{value:this.phone,reg:/^1[3-9]\d{9}$/,errorMsg:"手机格式不正确"},newPassword:{value:this.newPassword,reg:/^(?![0-9]+$)(?![a-zA-Z]+$)[a-zA-z0-9]{6,12}$/,errorMsg:"密码格式不正确"}};if(i["a"].valid(t)){this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"});var a=o["a"].queryString({appkey:this.appkey,phone:this.phone,password:this.newPassword});this.axios({method:"POST",url:"/retrievePassword",data:a}).then((function(t){e.$toast.clear(),"L001"==t.data.code?(e.$toast.success(t.data.msg),setTimeout((function(){e.$router.push({name:"Login"})}),1e3)):e.$toast.fail(t.data.msg)})).catch((function(t){e.$toast.clear()}))}}}}),c=s,l=a("2877"),d=Object(l["a"])(c,n,r,!1,null,null,null);t["default"]=d.exports},"2f14":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));a("99af"),a("fb6a");var n=a("d4ec"),r=a("bee2"),i=function(){function e(){Object(n["a"])(this,e)}return Object(r["a"])(e,[{key:"queryString",value:function(e){var t="";for(var a in e)t+="".concat(a,"=").concat(e[a],"&");return t.slice(0,-1)}}]),e}(),o=new i},"8f46":function(e,t,a){},"99af":function(e,t,a){"use strict";var n=a("23e7"),r=a("d039"),i=a("e8b5"),o=a("861d"),s=a("7b0b"),c=a("50c4"),l=a("8418"),d=a("65f0"),u=a("1dde"),f=a("b622"),h=a("2d00"),v=f("isConcatSpreadable"),p=9007199254740991,w="Maximum allowed index exceeded",b=h>=51||!r((function(){var e=[];return e[v]=!1,e.concat()[0]!==e})),g=u("concat"),m=function(e){if(!o(e))return!1;var t=e[v];return void 0!==t?!!t:i(e)},k=!b||!g;n({target:"Array",proto:!0,forced:k},{concat:function(e){var t,a,n,r,i,o=s(this),u=d(o,0),f=0;for(t=-1,n=arguments.length;t<n;t++)if(i=-1===t?o:arguments[t],m(i)){if(r=c(i.length),f+r>p)throw TypeError(w);for(a=0;a<r;a++,f++)a in i&&l(u,f,i[a])}else{if(f>=p)throw TypeError(w);l(u,f++,i)}return u.length=f,u}})},bee2:function(e,t,a){"use strict";function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}a.d(t,"a",(function(){return r}))},d4ec:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}a.d(t,"a",(function(){return n}))},e3a8:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("d4ec"),r=a("bee2"),i=(a("23b9"),a("8571")),o=a("2b0e");o["a"].use(i["a"]);var s=function(){function e(){Object(n["a"])(this,e)}return Object(r["a"])(e,[{key:"valid",value:function(e){for(var t in e)if(!e[t].reg.test(e[t].value))return Object(i["a"])(e[t].errorMsg),!1;return!0}}]),e}(),c=new s}}]);
//# sourceMappingURL=chunk-93ef3a94.d7261fdd.js.map